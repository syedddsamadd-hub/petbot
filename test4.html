<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <style>
        .home-card {
  position: relative;
  width: 250px;
  padding: 10px;
  border: 1px solid #ddd;
  margin: 10px;
  overflow: hidden;
}
        .home-card img{
            height: 200px;
        }
/* Download icon style */
.download-icon {
  position: absolute;
  top: 10px;
  right: 10px;
  font-size: 22px;
  background: #00000090;
  padding: 6px 8px;
  border-radius: 50%;
  color: white;
  cursor: pointer;
  transition: 0.3s ease;
}

.download-icon:hover {
  background: #000000cc;
}

/* Optional hover effect for image */
.home-hover-img {
  display: none;
}

.home-card:hover .home-hover-img {
  display: block;
}

.home-card:hover .home-card-img {
  display: none;
}

    </style>
</head>
<body>
    <!-- Font Awesome CDN for download icon -->
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css">

<div class="home-card">
  <!-- Download icon at top-right -->
  <div class="download-icon">
    <i class="fa-solid fa-download"></i>
  </div>

  <!-- Card images -->
  <img class="home-card-img" src="src/hero.1.jpg" alt="Main Image">
  <img class="home-hover-img" src="src/hero2.jpg" alt="Hover Image">

  <!-- Description -->
  <p class="home-card-descrip">Stylish eco-friendly bottle, perfect for daily use.</p>

  <!-- Prices -->
  <div class="card-prices">
    <p class="duplicate-price">rs:1200</p>
    <p class="price">rs:999</p>
  </div>

  <!-- Add to cart button -->
  <button class="btn btn-outline-dark cart-btn">add to cart</button>
</div>
<script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/html2canvas/1.4.1/html2canvas.min.js"></script>

<script>
document.querySelectorAll(".download-icon").forEach(icon => {
  icon.addEventListener("click", async function () {

    const card = this.closest(".home-card");

    // Capture card as image using html2canvas
    const canvas = await html2canvas(card, { scale: 2 }); // high-res
    const imgData = canvas.toDataURL("image/png");

    // Create PDF
    const { jsPDF } = window.jspdf;
    const pdf = new jsPDF("p", "mm", "a4");

    // Fit image to PDF width
    const imgProps = pdf.getImageProperties(imgData);
    const pdfWidth = 190;
    const pdfHeight = (imgProps.height * pdfWidth) / imgProps.width;

    pdf.addImage(imgData, "PNG", 10, 10, pdfWidth, pdfHeight);
    pdf.save("card-details.pdf");

  });
});
</script>

</body>
</html>